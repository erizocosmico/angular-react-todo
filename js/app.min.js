!function(t,e){"use strict";var n=function(t){return t>9?t:"0"+t},o=function(t){return[t.getDate(),t.getMonth()+1,t.getFullYear()].map(n).join("/")+" "+[t.getHours(),t.getMinutes()].map(n).join(":")},r=e.module("app",[]);r.service("storage",function(){return{store:function(t,n){return localStorage.setItem(t,e.toJson(n))},get:function(t){return e.fromJson(localStorage.getItem(t))}}}),r.controller("TodoCtrl",["$scope","storage",function(t,e){t.tasks=e.get("tasks")||[];var n=function(){return e.store("tasks",t.tasks)};t.addTask=function(e){e.trim().length>0&&(t.tasks.push({title:e,added:o(new Date)}),t.$digest(),n())},t.removeTask=function(e){t.tasks.splice(e,1),t.$digest(),n()},t.updateTitle=function(e,o){t.tasks[e].title=o,t.$digest(),n()}}]),r.directive("todoList",function(){return{restrict:"E",replace:!0,scope:{tasks:"="},link:function(t,e){t.$watchCollection("tasks",function(n){React.renderComponent(TodoList({tasks:n,scope:t.$parent}),e[0])})}}}),r.directive("todoForm",function(){return{restrict:"E",replace:!0,link:function(t,e){React.renderComponent(TodoForm({scope:t}),e[0])}}})}(window,angular);